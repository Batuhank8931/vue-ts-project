{"ast":null,"code":"export default {\n  props: {\n    categories: Array\n  },\n  data() {\n    return {\n      editingCategory: null,\n      updateData: {\n        name: '',\n        picture: '',\n        parent_id: ''\n      }\n    };\n  },\n  methods: {\n    onDeleteCategory(id) {\n      this.$emit('deleteCategory', id);\n    },\n    onUpdateCategory(category) {\n      this.editingCategory = category;\n      this.updateData = {\n        ...category\n      };\n    },\n    cancelUpdate() {\n      this.editingCategory = null;\n      this.updateData = {\n        name: '',\n        picture: '',\n        parent_id: ''\n      };\n    },\n    async onSubmitUpdate() {\n      const {\n        id,\n        ...rest\n      } = this.updateData;\n      try {\n        await axios.put(`http://localhost:3000/categories/${id}`, rest);\n        this.editingCategory = null;\n        this.updateData = {\n          name: '',\n          picture: '',\n          parent_id: ''\n        };\n        this.$emit('updateCategory');\n      } catch (error) {\n        console.error('Error updating category:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["props","categories","Array","data","editingCategory","updateData","name","picture","parent_id","methods","onDeleteCategory","id","$emit","onUpdateCategory","category","cancelUpdate","onSubmitUpdate","rest","axios","put","error","console"],"sources":["/home/batuhan/Documents/vartur1/vartur0110/frontend/src/components/CategoryTable.vue"],"sourcesContent":["<!-- frontend/src/components/CategoryTable.vue -->\n<template>\n  <div>\n    <table>\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Name</th>\n          <th>Picture</th>\n          <th>Parent ID</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"category in categories\" :key=\"category.id\">\n          <td>{{ category.id }}</td>\n          <td>{{ category.name }}</td>\n          <td>{{ category.picture }}</td>\n          <td>{{ category.parent_id }}</td>\n          <td>\n            <button @click=\"onDeleteCategory(category.id)\">Delete</button>\n            <button @click=\"onUpdateCategory(category)\">Update</button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n\n    <!-- Modal for category update -->\n    <div v-if=\"editingCategory\">\n      <h2>Edit Category</h2>\n      <form @submit.prevent=\"onSubmitUpdate\">\n        <label for=\"updateName\">Name:</label>\n        <input v-model=\"updateData.name\" type=\"text\" id=\"updateName\" required />\n\n        <label for=\"updatePicture\">Picture:</label>\n        <input v-model=\"updateData.picture\" type=\"text\" id=\"updatePicture\" />\n\n        <label for=\"updateParentId\">Parent ID:</label>\n        <input v-model=\"updateData.parent_id\" type=\"text\" id=\"updateParentId\" />\n\n        <button type=\"submit\">Update</button>\n        <button @click=\"cancelUpdate\">Cancel</button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    categories: Array,\n  },\n  data() {\n    return {\n      editingCategory: null,\n      updateData: {\n        name: '',\n        picture: '',\n        parent_id: ''\n      }\n    };\n  },\n  methods: {\n    onDeleteCategory(id) {\n      this.$emit('deleteCategory', id);\n    },\n    onUpdateCategory(category) {\n      this.editingCategory = category;\n      this.updateData = { ...category };\n    },\n    cancelUpdate() {\n      this.editingCategory = null;\n      this.updateData = { name: '', picture: '', parent_id: '' };\n    },\n    async onSubmitUpdate() {\n      const { id, ...rest } = this.updateData;\n      try {\n        await axios.put(`http://localhost:3000/categories/${id}`, rest);\n        this.editingCategory = null;\n        this.updateData = { name: '', picture: '', parent_id: '' };\n        this.$emit('updateCategory');\n      } catch (error) {\n        console.error('Error updating category:', error);\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* Your component-specific styles go here */\n</style>\n"],"mappings":"AAgDA,eAAe;EACbA,KAAK,EAAE;IACLC,UAAU,EAAEC;EACd,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,eAAe,EAAE,IAAI;MACrBC,UAAU,EAAE;QACVC,IAAI,EAAE,EAAE;QACRC,OAAO,EAAE,EAAE;QACXC,SAAS,EAAE;MACb;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgBA,CAACC,EAAE,EAAE;MACnB,IAAI,CAACC,KAAK,CAAC,gBAAgB,EAAED,EAAE,CAAC;IAClC,CAAC;IACDE,gBAAgBA,CAACC,QAAQ,EAAE;MACzB,IAAI,CAACV,eAAc,GAAIU,QAAQ;MAC/B,IAAI,CAACT,UAAS,GAAI;QAAE,GAAGS;MAAS,CAAC;IACnC,CAAC;IACDC,YAAYA,CAAA,EAAG;MACb,IAAI,CAACX,eAAc,GAAI,IAAI;MAC3B,IAAI,CAACC,UAAS,GAAI;QAAEC,IAAI,EAAE,EAAE;QAAEC,OAAO,EAAE,EAAE;QAAEC,SAAS,EAAE;MAAG,CAAC;IAC5D,CAAC;IACD,MAAMQ,cAAcA,CAAA,EAAG;MACrB,MAAM;QAAEL,EAAE;QAAE,GAAGM;MAAK,IAAI,IAAI,CAACZ,UAAU;MACvC,IAAI;QACF,MAAMa,KAAK,CAACC,GAAG,CAAE,oCAAmCR,EAAG,EAAC,EAAEM,IAAI,CAAC;QAC/D,IAAI,CAACb,eAAc,GAAI,IAAI;QAC3B,IAAI,CAACC,UAAS,GAAI;UAAEC,IAAI,EAAE,EAAE;UAAEC,OAAO,EAAE,EAAE;UAAEC,SAAS,EAAE;QAAG,CAAC;QAC1D,IAAI,CAACI,KAAK,CAAC,gBAAgB,CAAC;MAC9B,EAAE,OAAOQ,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}