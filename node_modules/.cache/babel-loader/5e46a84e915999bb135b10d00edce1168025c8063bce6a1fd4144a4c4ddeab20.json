{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  id: \"app\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"popup\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Update Product\", -1 /* HOISTED */);\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"updateName\"\n}, \"Name:\", -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"updatePicture\"\n}, \"Picture:\", -1 /* HOISTED */);\nconst _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"updateCategoryId\"\n}, \"Category ID:\", -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_CategoryTable = _resolveComponent(\"CategoryTable\");\n  const _component_CategoryForm = _resolveComponent(\"CategoryForm\");\n  const _component_ProductTable = _resolveComponent(\"ProductTable\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_CategoryTable, {\n    categories: $data.categories,\n    deleteCategory: $options.deleteCategory,\n    updateCategory: $options.updateCategory,\n    addCategory: $options.addCategory\n  }, null, 8 /* PROPS */, [\"categories\", \"deleteCategory\", \"updateCategory\", \"addCategory\"]), _createVNode(_component_CategoryForm, {\n    onCreateCategory: $options.createCategory\n  }, null, 8 /* PROPS */, [\"onCreateCategory\"]), _createVNode(_component_ProductTable, {\n    products: $data.products,\n    onDeleteProduct: $options.deleteProduct,\n    onOpenUpdatePopup: $options.openUpdatePopup\n  }, null, 8 /* PROPS */, [\"products\", \"onDeleteProduct\", \"onOpenUpdatePopup\"]), _ctx.isUpdatePopupOpen ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", null, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.updatedProduct.name = $event),\n    type: \"text\",\n    id: \"updateName\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.updatedProduct.name]])]), _createElementVNode(\"div\", null, [_hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.updatedProduct.picture = $event),\n    type: \"text\",\n    id: \"updatePicture\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.updatedProduct.picture]])]), _createElementVNode(\"div\", null, [_hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.updatedProduct.category_id = $event),\n    type: \"text\",\n    id: \"updateCategoryId\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.updatedProduct.category_id]])]), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => _ctx.updateProductInPopup && _ctx.updateProductInPopup(...args))\n  }, \"Update\"), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => _ctx.closeUpdatePopup && _ctx.closeUpdatePopup(...args))\n  }, \"Cancel\")])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["id","key","class","_createElementVNode","for","_createElementBlock","_hoisted_1","_createVNode","_component_CategoryTable","categories","$data","deleteCategory","$options","updateCategory","addCategory","_component_CategoryForm","onCreateCategory","createCategory","_component_ProductTable","products","onDeleteProduct","deleteProduct","onOpenUpdatePopup","openUpdatePopup","_ctx","isUpdatePopupOpen","_hoisted_2","_hoisted_3","_hoisted_4","_cache","$event","updatedProduct","name","type","_hoisted_5","picture","_hoisted_6","category_id","onClick","args","updateProductInPopup","closeUpdatePopup","_createCommentVNode"],"sources":["/home/batuhan/Documents/vartur1/vartur0110/frontend/src/App.vue"],"sourcesContent":["<!-- frontend/src/App.vue -->\n<template>\n  <div id=\"app\">\n    <CategoryTable\n      :categories=\"categories\"\n      :deleteCategory=\"deleteCategory\"\n      :updateCategory=\"updateCategory\"\n      :addCategory=\"addCategory\"\n    />\n    <CategoryForm @createCategory=\"createCategory\" />\n    <ProductTable :products=\"products\" @deleteProduct=\"deleteProduct\" @openUpdatePopup=\"openUpdatePopup\" />\n    <div v-if=\"isUpdatePopupOpen\" class=\"popup\">\n      <h2>Update Product</h2>\n      <div>\n        <label for=\"updateName\">Name:</label>\n        <input v-model=\"updatedProduct.name\" type=\"text\" id=\"updateName\" />\n      </div>\n      <div>\n        <label for=\"updatePicture\">Picture:</label>\n        <input v-model=\"updatedProduct.picture\" type=\"text\" id=\"updatePicture\" />\n      </div>\n      <div>\n        <label for=\"updateCategoryId\">Category ID:</label>\n        <input v-model=\"updatedProduct.category_id\" type=\"text\" id=\"updateCategoryId\" />\n      </div>\n      <div>\n        <button @click=\"updateProductInPopup\">Update</button>\n        <button @click=\"closeUpdatePopup\">Cancel</button>\n      </div>\n    </div>\n\n\n  </div>\n\n</template>\n\n<script>\nimport axios from 'axios';\nimport CategoryTable from './components/CategoryTable.vue';\nimport CategoryForm from './components/CategoryForm.vue';\nimport ProductTable from './components/ProductTable.vue'; // Import your ProductTable component\n\nexport default {\n  name: 'App',\n  components: {\n    CategoryTable,\n    CategoryForm,\n    ProductTable, // Register the ProductTable component\n  },\n  data() {\n    return {\n      categories: [],\n      products: [], // Initialize the products array\n      \n    };\n  },\n  mounted() {\n    this.fetchCategories();\n    this.fetchProducts(); // Fetch products when the component is mounted\n  },\n  methods: {\n    async fetchCategories() {\n      try {\n        const response = await axios.get('http://localhost:3000/categories');\n        this.categories = response.data.categories;\n        console.log('Fetched categories:', this.categories);\n      } catch (error) {\n        console.error('Error fetching categories:', error);\n      }\n    },\n\n    async deleteCategory(id) {\n      try {\n        await axios.delete(`http://localhost:3000/categories/${id}`);\n        this.fetchCategories();\n      } catch (error) {\n        console.error('Error deleting category:', error);\n      }\n    },\n\n    async createCategory(category) {\n      try {\n        await axios.post('http://localhost:3000/categories', category);\n        this.fetchCategories();\n      } catch (error) {\n        console.error('Error creating category:', error);\n      }\n    },\n\n    async updateCategory(category) {\n      try {\n        // Call your backend API to update the category\n        await axios.put(`http://localhost:3000/categories/${category.id}`, category);\n        // Optionally, you can refresh the categories\n        this.fetchCategories();\n      } catch (error) {\n        console.error('Error updating category:', error);\n      }\n    },\n\n    // New method for adding category\n    async addCategory(category) {\n      try {\n        await axios.post('http://localhost:3000/categories', category);\n        this.fetchCategories();\n      } catch (error) {\n        console.error('Error adding category:', error);\n      }\n    },\n\n\n    async fetchProducts() {\n      try {\n        const response = await axios.get('http://localhost:3000/products');\n        this.products = response.data.products;\n      } catch (error) {\n        console.error('Error fetching products:', error);\n      }\n    },\n\n    async deleteProduct(id) {\n      try {\n        await axios.delete(`http://localhost:3000/products/${id}`);\n        this.fetchProducts();\n      } catch (error) {\n        console.error(`Error deleting product with ID ${id}:`, error);\n\n        // Optionally, you can display a user-friendly error message\n        // and handle the error as needed.\n      }\n    },\n\n\n    openUpdatePopup(product) {\n      // Implement logic to open update popup\n      console.log('Open update popup for product:', product);\n    },\n\n\n  },\n};\n</script>\n\n<style>\n#app {\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  margin-top: 20px;\n}\n\nth, td {\n  border: 1px solid #dddddd;\n  text-align: left;\n  padding: 8px;\n}\n\nth {\n  background-color: #f2f2f2;\n}\n</style>\n"],"mappings":";;EAEOA,EAAE,EAAC;AAAK;;EAFfC,GAAA;EAWkCC,KAAK,EAAC;;gCAClCC,mBAAA,CAAuB,YAAnB,gBAAc;gCAEhBA,mBAAA,CAAqC;EAA9BC,GAAG,EAAC;AAAY,GAAC,OAAK;gCAI7BD,mBAAA,CAA2C;EAApCC,GAAG,EAAC;AAAe,GAAC,UAAQ;gCAInCD,mBAAA,CAAkD;EAA3CC,GAAG,EAAC;AAAkB,GAAC,cAAY;;;;;uBApBhDC,mBAAA,CA8BM,OA9BNC,UA8BM,GA7BJC,YAAA,CAKEC,wBAAA;IAJCC,UAAU,EAAEC,KAAA,CAAAD,UAAU;IACtBE,cAAc,EAAEC,QAAA,CAAAD,cAAc;IAC9BE,cAAc,EAAED,QAAA,CAAAC,cAAc;IAC9BC,WAAW,EAAEF,QAAA,CAAAE;8FAEhBP,YAAA,CAAiDQ,uBAAA;IAAlCC,gBAAc,EAAEJ,QAAA,CAAAK;EAAc,+CAC7CV,YAAA,CAAuGW,uBAAA;IAAxFC,QAAQ,EAAET,KAAA,CAAAS,QAAQ;IAAGC,eAAa,EAAER,QAAA,CAAAS,aAAa;IAAGC,iBAAe,EAAEV,QAAA,CAAAW;iFACzEC,IAAA,CAAAC,iBAAiB,I,cAA5BpB,mBAAA,CAkBM,OAlBNqB,UAkBM,GAjBJC,UAAuB,EACvBxB,mBAAA,CAGM,cAFJyB,UAAqC,E,gBACrCzB,mBAAA,CAAmE;IAf3E,uBAAA0B,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAewBN,IAAA,CAAAO,cAAc,CAACC,IAAI,GAAAF,MAAA;IAAEG,IAAI,EAAC,MAAM;IAACjC,EAAE,EAAC;iDAApCwB,IAAA,CAAAO,cAAc,CAACC,IAAI,E,KAErC7B,mBAAA,CAGM,cAFJ+B,UAA2C,E,gBAC3C/B,mBAAA,CAAyE;IAnBjF,uBAAA0B,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAmBwBN,IAAA,CAAAO,cAAc,CAACI,OAAO,GAAAL,MAAA;IAAEG,IAAI,EAAC,MAAM;IAACjC,EAAE,EAAC;iDAAvCwB,IAAA,CAAAO,cAAc,CAACI,OAAO,E,KAExChC,mBAAA,CAGM,cAFJiC,UAAkD,E,gBAClDjC,mBAAA,CAAgF;IAvBxF,uBAAA0B,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAuBwBN,IAAA,CAAAO,cAAc,CAACM,WAAW,GAAAP,MAAA;IAAEG,IAAI,EAAC,MAAM;IAACjC,EAAE,EAAC;iDAA3CwB,IAAA,CAAAO,cAAc,CAACM,WAAW,E,KAE5ClC,mBAAA,CAGM,cAFJA,mBAAA,CAAqD;IAA5CmC,OAAK,EAAAT,MAAA,QAAAA,MAAA,UAAAU,IAAA,KAAEf,IAAA,CAAAgB,oBAAA,IAAAhB,IAAA,CAAAgB,oBAAA,IAAAD,IAAA,CAAoB;KAAE,QAAM,GAC5CpC,mBAAA,CAAiD;IAAxCmC,OAAK,EAAAT,MAAA,QAAAA,MAAA,UAAAU,IAAA,KAAEf,IAAA,CAAAiB,gBAAA,IAAAjB,IAAA,CAAAiB,gBAAA,IAAAF,IAAA,CAAgB;KAAE,QAAM,E,OA3BhDG,mBAAA,e"},"metadata":{},"sourceType":"module","externalDependencies":[]}